---
title: "基于 GitHub 的图床 PicX 搭建"
description:
date: 2024-04-26T23:45:06+08:00
image:
math:
license:
hidden: false
comments: true
draft: false
categories:
  - 建站
tags:
  - picx
toc: true
---

编写博客的时候，常常需要在文章中插入`富媒体`，比如 图片、视频等。有很多免费的图床 (sm.ms)，也有基于云存储的的图床，它们的优缺点如下：

| 图床方案           | 优点                                         | 缺点                               |
| :----------------- | :------------------------------------------- | :--------------------------------- |
| sm.ms              | 免费                                         | 图片不好管理、有的不支持 https     |
| 云存储             | 不占用自己的存储                             | 付费、受制于平台、有的不支持 https |
| 基于 GitHub 的图床 | 支持 https，图片存放在代码仓库不占用自己存储 | 不方便操作，开源软件参差不齐       |

笔者最初是通过 七牛云 存储图片，当时 (2015 年）还有免费存储空间以及 https，后来都要收费了。转投 GitHub repo，基于 git 命令上传图片。

现在，发现了开源的基于 GitHub 图床 web 管理方案：[picx](https://github.com/XPoet/picx) 和 [picgo](https://github.com/Molunerfinn/PicGo)，经过对比最终选择了 picx。

## 容器化

picx 可以使用官网的版本：https://picx.xpoet.cn/#/ 但是限制较多，我自己基于 v2 分支代码的 web 版本，[封装成 docker 镜像](https://github.com/alwqx/picx/blob/feat/add-dockerfile/Dockerfile)，容器化部署。

```dockerfile
FROM node:lts-alpine as builder

WORKDIR /app
COPY . .
RUN npm install && npm run build

FROM nginx:stable-alpine
COPY --from=builder /app/dist /usr/share/nginx/html
EXPOSE 80
CMD ["nginx", "-g", "daemon off;"]
```

本地使用

1. 启动容器

   ```shell
   # 1. 启动容器
   docker run -d --name picx -p 5000:80 adolphlwq/picx:v2
   ```

2. 访问 `127.0.0.1:5000`
   [](https://jsd.cdn.zzko.cn/gh/alwqx/osshub@master/img/1714147634568.jpg)
3. 参考官方文档 [快速开始](https://picx-docs.xpoet.cn/docs/usage-guide/get-start.html) 进行设置

## 参考

- [免费开源的 GitHub 图床管理工具-PicX](https://mianao.info/78fa4316/)
- [免费的 GitHub 图床 PicX](https://blog.csdn.net/wbsu2004/article/details/121154470)
